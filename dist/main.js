(()=>{"use strict";class t{constructor(t){this.controller=t,this.parent=document.querySelector("#setupForm"),this.label=document.getElementById("inputLabel"),this.input=document.getElementById("inputField"),this.small=document.getElementById("inputHelp"),this.nextButton=document.getElementById("nextButton"),this.nextButton.addEventListener("click",(()=>{this.controller.formNext(this.input.value)})),this.setResetButton()}setResetButton(){document.getElementById("resetButton").addEventListener("click",(()=>{confirm("Weet je zeker dat je opnieuw wilt beginnen?")&&(this.input.value=null,this.controller.reset())}))}renderName(t=null){this.label.innerText="Naam van het terrein:",this.input.type="text",this.input.maxLength="20",this.input.placeholder="Naam",null===t?(this.small.className="",this.small.innerText="Maximaal 20 characters"):(this.small.className="text-danger",t[0]?t[1]||(this.small.innerText="Maximaal 20 characters"):this.small.innerText="Vul een naam in.")}renderAmountOfTents(t=null){this.label.innerText="Aantal tenten op het terrein:",this.input.type="number",this.input.min="0",this.input.max="25",this.input.placeholder="0",console.log(t),null===t?(this.small.className="",this.small.innerText="Minimaal 0 & maximaal 25"):(this.small.className="text-danger",t[0]||(this.small.innerText="Vul een nummer in"))}renderAmountOfFoodStalls(t=null,e){this.label.innerText="Aantal eetkraampjes op het terrein:",this.small.className="",e?(this.input.max="3",this.small.innerText="Minimaal 0 & maximaal 3"):(this.input.max="6",this.small.innerText="Minimaal 0 & maximaal 6"),console.log(t),null!==t&&(this.small.className="text-danger",t[0]||(this.small.innerText="Vul een nummer in"))}renderAmountOfDrinkStalls(t=null,e){this.label.innerText="Aantal drinkkraampjes op het terrein:",this.small.className="",e?(this.input.max="2",this.small.innerText="Minimaal 0 & maximaal 2"):(this.input.max="4",this.small.innerText="Minimaal 0 & maximaal 4"),console.log(t),null!==t&&(this.small.className="text-danger",t[0]||(this.small.innerText="Vul een nummer in"))}renderTreesSelection(t=null){}renderAmountOfToilets(t=null){this.label.innerText="Aantal toilet op het terrein:",this.input.max=5,console.log(t),null===t?(this.small.className="",this.small.innerText="Minimaal 0 & maximaal 5"):(this.small.className="text-danger",t[0]||(this.small.innerText="Vul een nummer in"))}renderAmountOfTrashCans(t=null,e){this.label.innerText="Aantal prullenbakken op het terrein:",this.input.max=e,console.log(t),null===t?(this.small.className="",this.small.innerText="Minimaal 0 & maximaal "+e.toString()):(this.small.className="text-danger",t[0]||(this.small.innerText="Vul een nummer in"))}}class e{constructor(){this.name=null,this.amountOfTents=0,this.amountOfFoodStalls=0,this.amountOfDrinkStalls=0,this.amountOfHeightTrees=0,this.amountOfWideTrees=0,this.amountOfShadowTrees=0,this.amountOfToilets=0,this.amountOfTrashCans=0}}class s{constructor(t,e,s){this.elementPoolController=t,this.dragAndDropController=e,this.parent=document.querySelector("#elementPool"),this.tileSize=s}render(t){for(;this.parent.firstChild;)this.parent.removeChild(this.parent.firstChild);let e=document.createElement("h4");e.innerText="Sleep een object om het te plaatsen",this.parent.append(e),t.forEach((t=>{let e=document.createElement("div");e.style.width=this.tileSize*t.width+"px",e.style.height=this.tileSize*t.height+"px",e.classList.add("--container"),e.addEventListener("dblclick",(()=>{this.elementPoolController.rotate(t)})),e.innerText=""+t.type,this.parent.append(e)}))}}class n{constructor(t,e,s){this.type=t,this.width=e,this.height=s}rotate(){let t=this.height;this.height=this.width,this.width=t}}class i{constructor(){this.width=15,this.height=15,this.gridArray=[],this.setGrid()}setGrid(){for(let t=0;t<this.width;t++){let t=[];for(let e=0;e<this.height;e++)t.push(e);this.gridArray.push(t)}}}class l{constructor(t,e,s){this.grid=document.getElementById("grid"),this.gridArray=s,this.renderGrid()}renderGrid(){for(let t=0;t<this.gridArray.length;t++){let e=this.gridArray[t],s=document.createElement("div");for(let t=0;t<e.length;t++){let t=document.createElement("div");t.style.width="40px",t.style.height="40px",t.style.border="1px dashed #FFF",t.style.borderWidth="0.1px 0.1px 0.1px 0.1px",t.style.backgroundColor="#42f56c",s.append(t)}this.grid.append(s)}}}new class{constructor(){this.grid=new i,new l(this.grid.width,this.grid.height,this.grid.gridArray)}};let a=new class{constructor(t){this.view=new s(this,t,50),this.objects=[new n("eetkraam",1,1),new n("drankkraam",1,2),new n("toilet",1,3),new n("tent",3,3)]}createObjects(t){console.log(t);let e=[new n("eetkraam",1,1),new n("drankkraam",1,2),new n("toilet",1,3),new n("tent",3,3)];this.view.render(e)}rotate(t){t.rotate(),this.view.render(this.objects)}};new class{constructor(s){this.elementsPoolController=s,this.view=new t(this),this.setupForm=new e,this.view.renderName()}reset(){this.setupForm=new e,this.view.renderName()}formNext(t){null===this.setupForm.name?this.setName(t):0===this.setupForm.amountOfTents?this.setAmountOfTents(t):0===this.setupForm.amountOfFoodStalls?this.setAmountOfFoodStalls(t):0===this.setupForm.amountOfDrinkStalls?this.setAmountOfDrinkStalls(t):0===this.setupForm.amountOfHeightTrees&&0===this.setupForm.amountOfWideTrees&&this.setupForm.amountOfShadowTrees?this.setAmountOfTrees(t):0===this.setupForm.amountOfToilets?this.setAmountOfToilets(t):0===this.setupForm.amountOfTrashCans&&this.setAmountOfTrashCans(t)}setName(t){let e=!0,s=!0;null===t||""===t?e=!1:t.length>20&&(s=!1),e&&s?(console.log(t),this.setupForm.name=t,this.view.renderAmountOfTents()):this.view.renderName([e,s])}setAmountOfTents(t){let e=!0,s=!0;null===t||""===t?e=!1:(t<0||t>25)&&(s=!1),e&&s?(console.log(t),this.setupForm.amountOfTents=parseInt(t),this.view.renderAmountOfFoodStalls(null,0!==this.setupForm.amountOfTents)):this.view.renderName([e,s])}setAmountOfFoodStalls(t){let e=!0,s=!0;null===t||""===t?e=!1:(this.setupForm.amountOfTents>0&&(t<0||t>3)||0===this.setupForm.amountOfTents&&(t<0||t>6))&&(s=!1),e&&s?(console.log(t),this.setupForm.amountOfFoodStalls=parseInt(t),this.view.renderAmountOfDrinkStalls(null,0!==this.setupForm.amountOfTents)):this.view.renderAmountOfFoodStalls([e,s],0!==this.setupForm.amountOfTents)}setAmountOfDrinkStalls(t){let e=!0,s=!0;null===t||""===t?e=!1:(this.setupForm.amountOfTents>0&&(t<0||t>2)||0===this.setupForm.amountOfTents&&(t<0||t>4))&&(s=!1),e&&s?(console.log(t),this.setupForm.amountOfDrinkStalls=parseInt(t),this.view.renderAmountOfToilets(null)):this.view.renderAmountOfDrinkStalls([e,s],0!==this.setupForm.amountOfTents)}setAmountOfTrees(t){}setAmountOfToilets(t){let e=!0,s=!0;null===t||""===t?e=!1:(t<0||t>5)&&(s=!1),e&&s?(console.log(t),this.setupForm.amountOfToilets=parseInt(t),this.maxTrashCans=6,this.view.renderAmountOfTrashCans(null,this.maxTrashCans)):this.view.renderAmountOfToilets([e,s])}setAmountOfTrashCans(t){let e=!0,s=!0;null===t||""===t?e=!1:(t<0||t>this.maxTrashCans)&&(s=!1),e&&s?(console.log(t),this.setupForm.amountOfTrashCans=parseInt(t),this.elementsPoolController.createObjects(this.setupForm)):this.view.renderAmountOfTrashCans([e,s],this.maxTrashCans)}}(a)})();